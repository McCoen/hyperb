global task = 2;
global num_of_dampers = 2;
global t_total = 0.05;

function plot_wt(wt)
	global task num_of_dampers t_total;
	
	current = 1;
	
	n = length(wt);
	xf = cell(1, n);
	xp = cell(1, n);
	spl = cell(1, n);
	spl_d = cell(1, n);
	
	for nth = 1 : n
	  wt_current = cell2mat(wt(nth));
	  k = length(wt_current(:, 1)) - 1;
	  xf(nth) = [0 : power(10, -6) : t_total];
	  xp(nth) = [0 : t_total / k : t_total];
	  wt_temp = ones(k + 1, 1);
	  for i = 1 : k + 1
		  wt_temp(i) = wt_current(i, current);
	  end
	  spl(nth) = interp1(cell2mat(xp(nth)), wt_temp, cell2mat(xf(nth)), "spline");
	  spl_d(nth) = interp1(cell2mat(xp(nth)), wt_temp, cell2mat(xp(nth)), "spline");
	endfor
	
	cmap = hsv(n);
	plot(cell2mat(xf(1)), cell2mat(spl(1)), 'r', cell2mat(xf(2)), cell2mat(spl(2)), 'g', cell2mat(xf(3)), cell2mat(spl(3)), 'b',
	     cell2mat(xp(1)), cell2mat(spl_d(1)), "+3;;b", cell2mat(xp(2)), cell2mat(spl_d(2)), "+3;;b", cell2mat(xp(3)), cell2mat(spl_d(3)), "+3;;b");

	grid on;
	legend(sprintf("1 to 65"), sprintf("65 to 1"), sprintf("1"));
	%legend(sprintf("8 × 16"), sprintf("16 × 32"), sprintf("32 × 64"));
	xlabel 't';
	ylabel 'W(t)';
	title (strcat('W_', int2str(current), '(t)'));
	print(sprintf("images/task %d w(t) damper %d of %d.png", task, current, num_of_dampers), "-S1366, 768");
endfunction

function just_print()
	global num_of_dampers = 2;
	
	wt = cell(1, 6);

	wt(1) = [-80.9865,    16.3071;
		48.0943,    16.5729;
		-84.8802,    20.2312;
		55.9733,     8.6554;
		-6.4473,   -58.1544;
		84.5535,   -19.9865;
		48.1091,  -112.6344;
		23.6729,    40.8135;
		28.0565,   -92.5050];

	wt(2) = [4.9894,   10.0078;
		-9.7876,   -5.2612;
		-10.3076,   25.4037;
		-34.3311,   19.1987;
		-16.9233,   32.1528;
		-4.0684,  -11.2912;
		39.7348,  -24.2554;
		48.2518,  -63.8594;
		78.2263,  -62.4400;
		57.6424,  -73.6285;
		53.6904,  -37.5288;
		4.7914,  -21.1408;
		11.8025,    4.7528];

	wt(3) = [22.3713,   26.2472;
		-26.1896,  -22.4706;
		8.9447,   39.7347;
		-42.0994,   -6.5842;
		18.7832,   29.9577;
		-17.0325,  -31.7670;
		16.3093,   32.5505;
		-39.6592,   -9.2744;
		38.1442,   10.8613;
		26.7705,  -75.8695;
		84.2943,  -35.0746;
		17.9851,  -67.3139;
		73.5648,  -24.1250;
		35.6122,  -85.1895;
		84.3581,  -34.6749;
		-5.9208,  -43.8955;
		30.5320,   19.4513];
		
	wt(4) = [-7.24348,   -6.25573;
		-12.14173,   23.48393;
		-35.65551,   21.97767;
		-8.98282,   24.31219;
		-17.18217,    8.19479;
		-3.94516,   15.87319;
		-7.50308,   -7.04300;
		8.24529,    1.01693;
		5.79421,  -16.32447;
		23.67943,  -12.38838;
		11.16437,  -20.18330;
		20.39886,  -11.64509;
		19.05630,  -27.49469;
		29.49038,  -22.20586;
		22.68698,  -28.61071;
		35.99748,  -29.19333;
		41.11310,  -45.83327;
		46.63258,  -45.37907;
		41.75608,  -47.05785;
		49.12162,  -46.89952;
		44.46899,  -41.26885;
		47.62403,  -46.22729;
		57.06820,  -56.69705;
		26.09588,  -30.16743;
		4.48979,   -0.60398];
		
	wt(5) = [-1.1205,    4.4304;
		-9.0172,    2.7669;
		-24.3998,   24.1206;
		-17.9565,   13.8788;
		-15.8244,   25.7481;
		-18.5611,   21.3443;
		-6.3400,   15.6485;
		-4.8881,    1.6409;
		-11.8306,   10.4163;
		5.0282,  -22.9052;
		5.7330,   -6.1621;
		4.6625,   -5.1385;
		29.1699,  -13.4408;
		25.2282,  -28.8829;
		14.9255,  -10.0067;
		20.6541,  -32.1381;
		18.9759,  -12.1868;
		12.7825,  -22.0223;
		34.2217,  -21.2411;
		23.1080,  -28.8980;
		23.5228,   -9.8477;
		35.2283,  -50.7007;
		46.1312,  -40.8638
		37.5468,  -58.2213;
		53.7743,  -42.0099;
		35.0350,  -45.8662;
		53.9225,  -25.8724;
		54.3669,  -62.3214;
		48.5339,  -33.5259;
		33.4506,  -60.9903;
		66.7284,  -50.3293;
		21.3952,  -41.1583;
		12.0079,   11.9377];
		
	wt(6) = [-1.485522,   -1.694532;
   -6.424197,   14.133831;
  -10.101980,   17.829227;
   -8.832759,   11.946591;
  -27.076803,    2.907637;
  -16.365961,   10.497619;
  -13.237924,   24.301485;
  -16.813525,   18.249961;
  -14.458377,   -0.420208;
   -9.405585,   29.466794;
   -4.417095,   16.700421;
  -10.375309,   -2.066320;
  -21.768101,    5.494118;
    2.043857,    4.948618;
   -0.036005,   -4.324727;
    3.746184,   -4.959997;
   11.893897,  -11.100032;
   22.750772,  -11.016368;
   21.929546,  -16.386440;
   17.604164,   -8.418723;
   16.582951,  -23.981786;
   18.141936,  -23.991904;
   13.231099,  -17.024127;
   27.689022,  -22.787353;
   18.710283,  -29.978201;
   13.342612,  -19.133219;
   15.711358,  -14.238627;
   24.818219,  -14.737150;
   25.380604,  -31.229509;
   38.409710,  -31.170090;
   38.884686,  -24.577345;
   35.073493,  -32.731381;
   20.480097,  -44.825859;
   40.366269,  -41.712957;
   53.308381,  -42.887457
   44.829572,  -47.358731;
   45.760230,  -58.580521;
   60.146907,  -41.743196;
   48.872428,  -35.716147;
   42.414037,  -44.935717;
   36.863223,  -44.639648;
   50.741697,  -57.017966;
   34.872610,  -52.122649;
   47.706788,  -42.942536;
   49.594645,  -41.212174;
   35.833930,  -35.033309;
   50.529841,  -54.817278;
   33.979975,  -29.491043;
    6.713462,   -3.832805];
    
    wt(1) = [1
    2
    3
    4
    5
    6
    7
    8
    9
   10
   11
   12
   13
   14
   15
   16
   17
   18
   19
   20
   21
   22
   23
   24
   25
   26
   27
   28
   29
   30
   31
   32
   33
   34
   35
   36
   37
   38
   39
   40
   41
   42
   43
   44
   45
   46
   47
   48
   49
   50
   51
   52
   53
   54
   55
   56
   57
   58
   59
   60
   61
   62
   63
   64
   65];
     
     wt(2) = [65
   64
   63
   62
   61
   60
   59
   58
   57
   56
   55
   54
   53
   52
   51
   50
   49
   48
   47
   46
   45
   44
   43
   42
   41
   40
   39
   38
   37
   36
   35
   34
   33
   32
   31
   30
   29
   28
   27
   26
   25
   24
   23
   22
   21
   20
   19
   18
   17
   16
   15
   14
   13
   12
   11
   10
    9
    8
    7
    6
    5
    4
    3
    2
    1];
    
     wt(3) = [1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1
   1];
		
	plot_wt(wt);
  
	
# 	wt_1 = [10.520
#    -18.086
#    -48.251
#   -128.784
#    -90.947
#    -16.785
#     74.559
#     55.557
#     35.792
#    -25.696
#    -41.634
#    -47.922
#     50.502
#    116.420
#    134.370
#     43.722
#     11.478];
#     
#     wt0 = [6.4506
#    -29.7681
#    -77.1313
#   -127.3943
#    -63.6011
#     15.1047
#     74.9591
#     46.2128
#     18.1070
#    -37.6157
#    -45.4653
#    -21.6311
#     82.5122
#    124.2386
#    107.7848
#     28.1690
#      7.0731];
#     
# 	wt1 = [10.7492
#      6.5855
#    -12.1153
#   -128.0489
#   -138.1458
#    -55.5992
#     69.5783
#     75.7923
#     55.2598
#     -2.0763
#    -43.7600
#    -82.2245
#     -1.6426
#    114.4199
#    167.4137
#     71.9874
#      9.9451];
#      
# plot_wt(wt_1, wt0, wt1);
# 
# wt0 = [-83.6493
#     -4.2171
#    -82.9368
#     33.9782
#     25.3961
#     -6.5282
#      8.8779
#     27.7804
#    184.7682];
# 
# wt1 = [6.4506
#    -29.7681
#    -77.1313
#   -127.3943
#    -63.6011
#     15.1047
#     74.9591
#     46.2128
#     18.1070
#    -37.6157
#    -45.4653
#    -21.6311
#     82.5122
#    124.2386
#    107.7848
#     28.1690
#      7.0731];
# 
# wt2 = [10.5296
#    -52.4444
#    -76.9410
#    -78.1322
#    -30.9095
#    -72.5723
#    -41.8684
#    -44.6156
#    -28.0121
#    -43.5542
#     -5.8049
#    -27.2549
#     29.4326
#     33.9371
#     23.9675
#    -28.9591
#     33.9777
#     27.3350
#     17.2408
#    -21.7461
#     17.3276
#     -8.3731
#     29.1172
#     13.6924
#     39.8325
#     47.1207
#    110.2430
#     55.0596
#     76.8519
#     81.5546
#     93.0259
#     13.5597
#     15.2144];
    
%plot_wt(wt0, wt1, wt2);
endfunction

just_print();
